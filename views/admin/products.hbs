<head>
  <link rel="stylesheet" href="/css/admin_products.css">
</head>

<!-- Left：Sidebar -->
<nav class="sidebar col-md-1">
  <!-- STORELINE ADMIN -->
  <div class="d-flex justify-content-around">
    <div class="sidebar__home">
      STORELINE</br>
      <div class="sidebar__home__admin">
        ADMIN
      </div>
    </div>
  </div>

  <div class="sidebar__menu">
    <!-- Products -->
    <div class="sidebar__menu__link sidebar__menu__link--frame sidebar__menu__link--active">
      <a class="sidebar__menu__link btn btn-warning btn-block " href="/admin/products" role="button">
        <i class="fas fa-shopping-bag"></i> All Products
      </a>
    </div>

    <!-- Create New Products -->
    <div class="sidebar__menu__link sidebar__menu__link--folder ">
      <a class="sidebar__menu__link btn btn-warning btn-block" href="/admin/products/create" role="button">
        <i class="fas fa-plus-square"></i> Launch Products
      </a>
    </div>

    <!-- Category -->
    <div class="sidebar__menu__link sidebar__menu__link--mail">
      <a class="sidebar__menu__link btn btn-success btn-block" href="/admin/categories" role="button">
        <i class="fas fa-shopping-basket"></i> Category
      </a>
    </div>

    <!-- User Authority -->
    <div class="sidebar__menu__link sidebar__menu__link--mail">
      <a class="sidebar__menu__link btn btn-danger btn-block" href="/admin/users" role="button">
        <i class="fas fa-user-cog"></i> User Authority
      </a>
    </div>

  </div>
</nav>

<!-- Right：Main -->
<main class="main">
  <h1 class="main__title">ALL PRODUCTS</h1>
  <hr>

  <table class="main__table col-md-12">
    <thead>
      <tr class="table__header table__row">
        <!-- 1. ID -->
        <th class="table__cell table__cell--id">ID</th>

        <!-- 2. Category -->
        <th class="table__cell table__cell--category">Category</th>

        <!-- 3. Image -->
        <th class="table__cell table__cell--image">Image</th>

        <!-- 4. Name -->
        <th class="table__cell table__cell--name">Name</th>

        <!-- 5. Description -->
        <!--         <th class="table__cell table__cell--description">Description</th> -->

        <!-- 6. Price -->
        <th class="table__cell table__cell--price">
          <span class="cell__price__line">Price</span>
          <span class="cell__price__line cell__price__line--group">TWD/元</span>
        </th>

        <!-- 7. QTY -->
        <th class="table__cell table__cell--QTY">QTY</th>

        <!-- 8. createdAt -->
        <th class="table__cell table__cell--createdAt">Created At</th>

        <!-- 9. updatedAt -->
        <th class="table__cell table__cell--updatedAt">Last Updated</th>

        <!-- 10. Setting：Edit & Delete -->
        <th class="table__cell table__cell--setting">
          <i class="fas fa-cog"></i>
          Setting
        </th>
      </tr>
    </thead>

    <tbody class="table__body">
      {{#each products}}
      <tr class="table__row">
        <!-- 1. ID -->
        <td class="table__cell table__cell--id">{{this.id}}</td>

        <!-- 2. Category -->
        <td class="table__cell table__cell--category">{{this.Category.name}}</td>

        <!-- 3. Image -->
        <td class="table__cell table__cell--image">
          <img class="img-responsive center-block" src="{{this.image}}" style="width: 220px;margin: 5px;">
        </td>

        <!-- 4. Name -->
        <td class="table__cell table__cell--name">{{this.name}}</td>

        <!-- 5. Description -->
        <!--         <td class="table__cell table__cell--description">{{this.description}}</td> -->

        <!-- 6. Price -->
        <td class="table__cell table__cell--price">{{this.price}}</td>

        <!-- 7. QTY -->
        <td class="table__cell table__cell--QTY">{{this.quantity}}</td>

        <!-- 8. createdAt -->
        <td class="table__cell table__cell--createdAt">{{moment this.createdAt}}</td>

        <!-- 9. updatedAt -->
        <td class="table__cell table__cell--updatedAt">{{moment this.updatedAt}}</td>

        <!-- 10. Setting: Detail, Edit, Delete -->
        <td class="table__cell table__cell--setting">
          <div class="table__cell table__cell--setting--item">

            <!-- Detail 按鈕 -->
            <div>
              <button type="button" class="btn-block btn btn-warning">
                <a href="/admin/products/{{this.id}}">
                  <i class="fas fa-file-alt"></i>
                  Detail
                </a>
              </button>
            </div>
            </br>

            <!-- Edit/Update 按鈕 -->
            <div>
              <button type="button" class="btn-block btn btn-success">
                <a href="/admin/products/{{this.id}}/edit">
                  <i class="fas fa-edit"></i>
                  Edit
                </a>
              </button>
            </div>
            </br>

            <!-- Delete 按鈕：注意 須用<form> + <button>，不可只用<a> -->
            <div>
              <form action="/admin/products/{{this.id}}?_method=DELETE" method="POST" style="display: inline;">
                <button type="submit" class="btn-block btn btn-danger">
                  <i class="fas fa-trash"></i>
                  Delete
                </button>
              </form>
            </div>

          </div>
        </td>
      </tr>
      {{/each}}
    </tbody>
  </table>
</main>