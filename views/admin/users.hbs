<head>
  <link rel="stylesheet" href="/css/admin_users.css">
</head>

<!-- Left：Sidebar -->
<nav class="sidebar col-md-2">
  <!-- STORELINE ADMIN -->
  <div class="d-flex justify-content-around">
    <div class="sidebar__home">
      STORELINE</br>
      <div class="sidebar__home__admin">
        ADMIN
      </div>
    </div>
  </div>

  <div class="sidebar__menu">
    <!-- Products -->
    <div class="sidebar__menu__link sidebar__menu__link--frame sidebar__menu__link--active">
      <a class="sidebar__menu__link btn btn-warning btn-block " href="/admin/products" role="button">
        <i class="fas fa-shopping-bag"></i> All Products
      </a>
    </div>

    <!-- Create New Products -->
    <div class="sidebar__menu__link sidebar__menu__link--folder ">
      <a class="sidebar__menu__link btn btn-warning btn-block" href="/admin/products/create" role="button">
        <i class="fas fa-plus-square"></i> Launch Products
      </a>
    </div>

    <!-- Category -->
    <div class="sidebar__menu__link sidebar__menu__link--mail">
      <a class="sidebar__menu__link btn btn-success btn-block" href="/admin/categories" role="button">
        <i class="fas fa-shopping-basket"></i> Category
      </a>
    </div>

    <!-- User Authority -->
    <div class="sidebar__menu__link sidebar__menu__link--mail">
      <a class="sidebar__menu__link btn btn-danger btn-block" href="/admin/users" role="button">
        <i class="fas fa-user-cog"></i> User Authority
      </a>
    </div>

    <!-- Data Analysis -->
    <div class="sidebar__menu__link sidebar__menu__link--mail">
      <a class="sidebar__menu__link btn btn-info btn-block" href="/admin/data" role="button">
        <i class="fas fa-chart-bar"></i> Data Analysis
      </a>
    </div>

  </div>
</nav>

<!-- Right：Main -->
<main class="main">
  <h1 class="main__title">USER AUTHORITY</h1>
  <hr>

  <table class="main__table col-md-12">
    <thead>
      <tr class="table__header table__row">
        <!-- ID -->
        <th class="table__cell table__cell--id">ID</th>

        <!-- Name -->
        <th class="table__cell table__cell--name">Name</th>

        <!-- Email -->
        <th class="table__cell table__cell--email">
          <i class="fas fa-envelope"></i>
          Email
        </th>

        <!-- User Authority -->
        <th class="table__cell table__cell--userauthority">
          <i class="fas fa-user-cog"></i>
          User Authority
        </th>

        <!-- Switch -->
        <th class="table__cell table__cell--switch">
          <span class="cell__switch__line">Switch</span>
          <span class="cell__switch__line cell__switch__line--group">User <i class="fas fa-arrows-alt-h"></i>
            Admin</span>
        </th>
      </tr>
    </thead>

    <tbody class="table__body">
      {{#each users}}
      <tr class="table__row">
        <!-- ID -->
        <td class="table__cell table__cell--id">{{this.id}}</td>

        <!-- Name -->
        <td class="table__cell table__cell--name">{{this.name}}</td>

        <!-- Email -->
        <td class="table__cell table__cell--email">
          <span class="cell__email__line">{{this.email}}</span>
        </td>

        <!-- User Authority -->
        <td class="table__cell table__cell--authority">
          <!-- Authority：顯示 Admin -->
          {{#if this.isAdmin}}
          <div class="text-danger">Admin</div>

          <!-- Authority：顯示 user -->
          {{else}}
          <div class="text-success">User</div>

          {{/if}}
        </td>

        <!-- Switch -->
        <td class="table__cell table__cell--Switch">
          <form action="/admin/users/{{this.id}}/toggleAdmin?_method=PUT" method="POST" style="font-size:18px"
            class="text-center d-flex justify-content-start">
            <button type="submit" class="btn btn-link d-flex justify-content-center">

              {{#if this.isAdmin}}
              <div class="table__cell table__cell--switch--button mx-auto">
                <div class="table__cell table__cell--switch--item text-danger">Admin</div>

                <div class="table__cell table__cell--switch--item fas fa-arrow-right"></div>

                <div class="table__cell table__cell--switch--item text-success"> User
                </div>
              </div>

              {{else}}
              <div class="class=table__cell table__cell--switch--button">
                <div class="table__cell table__cell--switch--item text-success">User</div>

                <div class="table__cell table__cell--switch--item fas fa-arrow-right"></div>

                <div class="table__cell table__cell--switch--item text-danger">Admin</div>
              </div>

              {{/if}}
            </button>
          </form>
        </td>
      </tr>
      {{/each}}

    </tbody>
  </table>
</main>