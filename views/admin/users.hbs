<head>
  <link rel="stylesheet" href="users.css">
</head>

<!-- Left：Sidebar -->
<nav class="sidebar col-md-2">
  <!-- STORELINE ADMIN -->
  <div class="d-flex justify-content-around">
    <div class="sidebar__home">
      STORELINE</br>
      <div class="sidebar__home__admin">
        ADMIN
      </div>
    </div>
  </div>

  <div class="sidebar__menu">
    <!-- Products -->
    <div class="sidebar__menu__link sidebar__menu__link--frame sidebar__menu__link--active">
      <a class="sidebar__menu__link btn btn-warning btn-block" href="/admin/products" role="button">
        Products
      </a>
    </div>

    <!-- Create New Products -->
    <div class="sidebar__menu__link sidebar__menu__link--folder">
      <a class="sidebar__menu__link btn btn-warning btn-block" href="/admin/products/create" role="button">
        Create New Products
      </a>
    </div>

    <!-- Category -->
    <div class="sidebar__menu__link sidebar__menu__link--mail">
      <a class="sidebar__menu__link btn btn-success btn-block" href="/admin/categories" role="button">
        Category
      </a>
    </div>

    {{!-- <div class="sidebar__menu__link sidebar__menu__link--mail" href="/admin/create">
      Category
    </div> --}}

    <!-- User Authority -->
    <div class="sidebar__menu__link sidebar__menu__link--mail">
      <a class="sidebar__menu__link btn btn-danger btn-block" href="/admin/users" role="button">
        User Authority
      </a>
    </div>

  </div>
</nav>

<!-- Right：Main -->
<main class="main">
  <h1 class="main__title">USER AUTHORITY</h1>
  <table class="main__table col-md-12">
    <thead>
      <tr class="table__header table__row">
        <!-- ID -->
        <th class="table__cell table__cell--id">ID</th>

        <!-- Name -->
        <th class="table__cell table__cell--name">Name</th>

        <!-- Email -->
        <th class="table__cell table__cell--email">
          <i class="fas fa-envelope"></i>
          Email
        </th>

        <!-- User Authority -->
        <th class="table__cell table__cell--userauthority">User Authority</th>

        <!-- Switch -->
        <th class="table__cell table__cell--switch">
          <span class="cell__switch__line">Switch</span>
          <span class="cell__switch__line cell__switch__line--group">User <i class="fas fa-arrows-alt-h"></i>
            Admin</span>
        </th>
      </tr>
    </thead>

    <tbody class="table__body">
      {{#each users}}
      <tr class="table__row">
        <!-- ID -->
        <td class="table__cell table__cell--id">{{this.id}}</td>

        <!-- Name -->
        <td class="table__cell table__cell--name">{{this.name}}</td>

        <!-- Email -->
        <td class="table__cell table__cell--advertiser">
          <span class="cell__advertiser__line">{{this.email}}</span>
        </td>

        <!-- User Authority -->
        <td class="table__cell table__cell--description">
          <!-- Authority：顯示 Admin -->
          {{#if this.isAdmin}}
          <p class="text-danger">Admin</p>

          <!-- Authority：顯示 user -->
          {{else}}
          <p class="text-success">User</p>

          {{/if}}
        </td>

        <!-- Switch -->
        <td class="table__cell table__cell--price">
          <form action="/admin/users/{{this.id}}/toggleAdmin?_method=PUT" method="POST" style="font-size:18px"
            class="text-center d-flex justify-content-start">
            <button type="submit" class="btn btn-link">
              {{#if this.isAdmin}}
              <p class="ng-binding text-center">Admin <i class="fas fa-arrow-right"></i> User</p>

              {{else}}
              <p>User <i class="fas fa-arrow-right"></i> Admin</p>

              {{/if}}
            </button>
          </form>
        </td>
      </tr>
      {{/each}}

    </tbody>
  </table>
</main>